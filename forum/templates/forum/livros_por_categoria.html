{% extends 'base.html' %}
{% load static %}

{% block title %}Livros - {{ categoria.nome }}{% endblock %}

{% block content %}
<div class="container my-5">
  <h2 class="mb-4">Categoria: {{ categoria.nome }}</h2>

  {% if livros %}
    <div class="row row-cols-1 row-cols-md-4 g-4">
      {% for livro in livros %}
        <div class="col">
          <div class="card h-100 shadow-sm">
            <img src="{{ livro.imagem.url }}" class="card-img-top" alt="{{ livro.titulo }}" style="height: 250px; object-fit: cover;">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">{{ livro.titulo }}</h5>
              <p class="card-text text-muted">{{ livro.autor }}</p>
              <p class="card-text fw-bold mb-2">R$ {{ livro.preco }}</p>
              <a href="{% url 'detalhes_livro' livro.id %}" class="btn btn-primary mt-auto">Ver Detalhes</a>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-info mt-4" role="alert">
      Nenhum livro encontrado nesta categoria.
    </div>
  {% endif %}
</div>
{% endblock %}
